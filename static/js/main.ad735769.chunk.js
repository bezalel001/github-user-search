(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(53)},26:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),o=(a(25),a(26),a(8)),i=a.n(o),l=a(9),u=a(2),m=a(3),h=a(5),p=a(4),g=a(6),f=(a(29),a(30),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onFormSubmit=function(e){e.preventDefault();var t=a.state.searchTerm;(0,a.props.onSubmit)(t)},a.state={searchTerm:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchTerm;return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"search__form",autoComplete:"off"},r.a.createElement("div",{className:"search__form-control"},r.a.createElement("input",{type:"text",className:"search__form-input",placeholder:"GitHub username",id:"username",value:t,onChange:function(t){return e.setState({searchTerm:t.target.value})}}),r.a.createElement("label",{htmlFor:"username",className:"search__form-label"},"Please enter a GitHub username")),r.a.createElement("div",{className:"search__form-control"},r.a.createElement("input",{type:"submit",className:"btn btn--green",value:"Find User"}))))}}]),t}(r.a.Component)),b=a(18),v=a.n(b).a.create({baseURL:"https://api.github.com"}),d=(a(50),a(51),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={user:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.user,e.next=4,v.get("".concat(t.url));case 4:return a=e.sent,e.next=7,this.setState({user:a.data});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"user"},r.a.createElement("figure",{className:"user__info"},r.a.createElement("p",{className:"user__text"},e.bio),r.a.createElement("p",{className:"user__username"},r.a.createElement("a",{href:e.html_url},e.login)),r.a.createElement("figcaption",{className:"user__user"},r.a.createElement("a",{href:e.html_url},r.a.createElement("img",{src:e.avatar_url,alt:"avatar",className:"user__photo"})),r.a.createElement("div",{className:"user__user-box"},r.a.createElement("p",{className:"user__name"},r.a.createElement("a",{href:e.html_url},e.name)),r.a.createElement("p",{className:"user__company-name"},e.company),r.a.createElement("p",{className:"user__user-location"},e.location)),r.a.createElement("div",{className:"user__followers"},e.followers," followers                         "))))}}]),t}(r.a.Component)),N=function(e){var t=e.users.map(function(e){return r.a.createElement(d,{user:e,key:e.id})});return r.a.createElement("div",{className:"users"},t)},_=a(7),E=(a(52),"LEFT"),P="RIGHT",O=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},y=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),c={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},function(){return n(c)})},a.handleClick=function(e,t){t.preventDefault(),a.gotoPage(e)},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-a.pageNeighbours)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+a.pageNeighbours)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var c=[],s=t-n,o=t+n,i=e-1,l=s>2?s:2,u=o<i?o:i,m=r-(c=O(l,u)).length-1,h=l>2,p=u<i,g=E,f=P;if(h&&!p){var b=O(l-m,l-1);c=[g].concat(Object(_.a)(b),Object(_.a)(c))}else if(!h&&p){var v=O(u+1,u+m);c=[].concat(Object(_.a)(c),Object(_.a)(v),[f])}else h&&p&&(c=[g].concat(Object(_.a)(c),[f]));return[1].concat(Object(_.a)(c),[e])}return O(1,e)};var n=e.totalRecords,r=void 0===n?null:n,c=e.pageLimit,s=void 0===c?30:c,o=e.pageNeighbours,i=void 0===o?0:o;return a.pageLimit="number"===typeof s?s:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof i?Math.max(0,Math.min(i,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},console.log("total users: ".concat(r)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return r.a.createElement("div",null,r.a.createElement("nav",{"aria-label":"Pagination"},r.a.createElement("ul",{className:"pagination"},a.map(function(a,n){return a===E?r.a.createElement("li",{key:n,className:"pagination__page-item"},r.a.createElement("button",{className:"pagination__page-link",type:"button","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"Previous"),r.a.createElement("span",{className:"sr-only"},"Previous"))):a===P?r.a.createElement("li",{key:n,className:"pagination__page-item"},r.a.createElement("button",{className:"pagination__page-link",type:"button","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"Next"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"pagination__page-item".concat(t===a?" active":"")},r.a.createElement("button",{className:"pagination__page-link",type:"button",onClick:function(t){return e.handleClick(a,t)}},a))}))))}}]),t}(r.a.Component),j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={totalNumberOfUsers:null,users:[],currentPage:null,totalPages:null,pageLimit:10,pageNeighbours:1},a.onSearchSubmit=function(){var e=Object(l.a)(i.a.mark(function e(t){var n,r,c,s=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r=s.length>2&&void 0!==s[2]?s[2]:10,e.prev=2,e.next=5,v.get("/search/users",{params:{q:t,page:n,per_page:r}});case 5:return c=e.sent,e.next=8,a.setState({totalNumberOfUsers:c.data.total_count,users:c.data.items,term:t,currentPage:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error in Search: ".concat(e.t0));case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.onPageChanged=function(e){var t=e.currentPage,n=e.totalPages,r=e.pageLimit,c=a.state.term;a.onSearchSubmit(c,t,r),a.setState({currentPage:t,totalPages:n})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.totalNumberOfUsers,a=e.users,n=e.pageLimit,c=e.pageNeighbours;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__header-title"},"GitHub User Search")),r.a.createElement(f,{onSubmit:this.onSearchSubmit}),a.length>0&&r.a.createElement("h2",{className:"users-found"},"Found ",t," GitHub users"),r.a.createElement(N,{users:a}),t&&r.a.createElement(y,{totalRecords:t,pageLimit:n,pageNeighbours:c,onPageChanged:this.onPageChanged})))}}]),t}(r.a.Component);s.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.ad735769.chunk.js.map