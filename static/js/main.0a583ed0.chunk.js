(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,a,t){e.exports=t(54)},26:function(e,a,t){},29:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(18),s=t.n(c),o=(t(25),t(26),t(9)),l=t.n(o),i=t(10),u=t(3),m=t(4),g=t(6),h=t(5),p=t(7),f=(t(29),t(2)),d=t.n(f),b=(t(49),function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(g.a)(this,Object(h.a)(a).call(this,e))).onFormSubmit=function(e){e.preventDefault();var a=t.state.searchTerm;(0,t.props.onSubmit)(a)},t.state={searchTerm:""},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.state.searchTerm;return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:this.onFormSubmit,className:"search__form",autoComplete:"off"},r.a.createElement("div",{className:"search__form-control"},r.a.createElement("input",{type:"text",className:"search__form-input",placeholder:"GitHub username",id:"username",value:a,onChange:function(a){return e.setState({searchTerm:a.target.value})}}),r.a.createElement("label",{htmlFor:"username",className:"search__form-label"},"Please enter a GitHub username")),r.a.createElement("div",{className:"search__form-control"},r.a.createElement("input",{type:"submit",className:"btn btn--green",value:"Find User"}))))}}]),a}(r.a.Component)),v=d.a.create({baseURL:"https://api.github.com"}),E=(t(50),t(51),t(52),function(){return r.a.createElement("div",{className:"loading"})}),N=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(g.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).cancelTokenSource=d.a.CancelToken.source(),t.state={user:"",error:null,loading:!1},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(l.a.mark(function e(){var a,t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),a=this.props.user,e.next=5,d.a.get("".concat(a.url),{cancelToken:this.cancelTokenSource.token});case 5:t=e.sent,this.setState({user:t.data,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d.a.isCancel(e.t0)?console.log("Axiox cancel error"):this.setState({error:e.t0,loading:!1});case 12:return e.prev=12,this.cancelTokenSource=null,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.cancelTokenSource&&this.cancelTokenSource.cancel()}},{key:"render",value:function(){var e=this.state,a=e.user,t=e.error;return e.loading?r.a.createElement("div",{className:"loading__container"},r.a.createElement(E,null)):t?r.a.createElement("div",{className:"error"},this.error):r.a.createElement("div",{className:"user"},r.a.createElement("figure",{className:"user__info"},r.a.createElement("p",{className:"user__text"},a.bio),r.a.createElement("p",{className:"user__username"},r.a.createElement("a",{href:a.html_url},a.login)),r.a.createElement("figcaption",{className:"user__user"},r.a.createElement("a",{href:a.html_url},r.a.createElement("img",{src:a.avatar_url,alt:"avatar",className:"user__photo"})),r.a.createElement("div",{className:"user__user-box"},r.a.createElement("p",{className:"user__name"},r.a.createElement("a",{href:a.html_url},a.name)),r.a.createElement("p",{className:"user__company-name"},a.company),r.a.createElement("p",{className:"user__user-location"},a.location)),r.a.createElement("div",{className:"user__followers"},a.followers," followers                         "))))}}]),a}(r.a.Component),_=function(e){var a=e.users.map(function(e){return r.a.createElement(N,{user:e,key:e.id})});return r.a.createElement("div",{className:"users"},a)},k=t(8),P=(t(53),"LEFT"),O="RIGHT",y=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=a;)r.push(n),n+=t;return r},j=function(e){function a(e){var t;Object(u.a)(this,a),(t=Object(g.a)(this,Object(h.a)(a).call(this,e))).gotoPage=function(e){var a=t.props.onPageChanged,n=void 0===a?function(e){return e}:a,r=Math.max(0,Math.min(e,t.totalPages)),c={currentPage:r,totalPages:t.totalPages,pageLimit:t.pageLimit,totalRecords:t.totalRecords};t.setState({currentPage:r},function(){return n(c)})},t.handleClick=function(e,a){a.preventDefault(),t.gotoPage(e)},t.handleMoveLeft=function(e){e.preventDefault(),t.gotoPage(t.state.currentPage-t.pageNeighbours)},t.handleMoveRight=function(e){e.preventDefault(),t.gotoPage(t.state.currentPage+t.pageNeighbours)},t.fetchPageNumbers=function(){var e=t.totalPages,a=t.state.currentPage,n=t.pageNeighbours,r=2*t.pageNeighbours+3;if(e>r+2){var c=[],s=a-n,o=a+n,l=e-1,i=s>2?s:2,u=o<l?o:l,m=r-(c=y(i,u)).length-1,g=i>2,h=u<l,p=P,f=O;if(g&&!h){var d=y(i-m,i-1);c=[p].concat(Object(k.a)(d),Object(k.a)(c))}else if(!g&&h){var b=y(u+1,u+m);c=[].concat(Object(k.a)(c),Object(k.a)(b),[f])}else g&&h&&(c=[p].concat(Object(k.a)(c),[f]));return[1].concat(Object(k.a)(c),[e])}return y(1,e)};var n=e.totalRecords,r=void 0===n?null:n,c=e.pageLimit,s=void 0===c?30:c,o=e.pageNeighbours,l=void 0===o?0:o;t.pageLimit="number"===typeof s?s:30,t.totalRecords="number"===typeof r?r:0,t.pageNeighbours="number"===typeof l?Math.max(0,Math.min(l,2)):0;var i=Math.ceil(t.totalRecords/t.pageLimit);return t.totalPages=i>=1?100:i%100,t.state={currentPage:1},console.log("total users: ".concat(r)),t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var a=this.state.currentPage,t=this.fetchPageNumbers();return r.a.createElement("div",null,r.a.createElement("nav",{"aria-label":"Pagination"},r.a.createElement("ul",{className:"pagination"},t.map(function(t,n){return t===P?r.a.createElement("li",{key:n,className:"pagination__page-item"},r.a.createElement("button",{className:"pagination__page-link",type:"button","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"Previous"),r.a.createElement("span",{className:"sr-only"},"Previous"))):t===O?r.a.createElement("li",{key:n,className:"pagination__page-item"},r.a.createElement("button",{className:"pagination__page-link",type:"button","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"Next"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"pagination__page-item".concat(a===t?" active":"")},r.a.createElement("button",{className:"pagination__page-link",type:"button",onClick:function(a){return e.handleClick(t,a)}},t))}))))}}]),a}(r.a.Component),S=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(g.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).signal=d.a.CancelToken.source(),t.state={totalNumberOfUsers:null,users:[],currentPage:null,totalPages:null,pageLimit:10,pageNeighbours:1,error:null,loading:!1,term:""},t.onSearchSubmit=function(){var e=Object(i.a)(l.a.mark(function e(a){var n,r,c,s=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:1,r=s.length>2&&void 0!==s[2]?s[2]:10,e.prev=2,t.setState({term:a}),a){e.next=6;break}return e.abrupt("return","");case 6:return t.setState({loading:!0}),e.next=9,v.get("/search/users",{params:{q:a,page:n,per_page:r},cancelToken:t.signal.token});case 9:return c=e.sent,t.setState({loading:!1,totalNumberOfUsers:c.data.total_count,users:c.data.items,currentPage:n}),e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(2),d.a.isCancel(e.t0)?console.log("Error in axios token"):t.setState({error:e.t0.message});case 17:case"end":return e.stop()}},e,this,[[2,14]])}));return function(a){return e.apply(this,arguments)}}(),t.onPageChanged=function(e){var a=e.currentPage,n=e.totalPages,r=e.pageLimit,c=t.state.term;t.onSearchSubmit(c,a,r),t.setState({currentPage:a,totalPages:n,loading:!1})},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state,a=e.totalNumberOfUsers,t=e.users,n=e.pageLimit,c=e.pageNeighbours,s=e.error,o=e.loading,l=e.term;return o?r.a.createElement("div",{className:"loading__container"},r.a.createElement(E,null)):s?r.a.createElement("div",{className:"error"},s):r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__header-title"},"GitHub User Search")),r.a.createElement(b,{onSubmit:this.onSearchSubmit}),t.length>0&&r.a.createElement("h2",{className:"users-found"},"Found"," ",a," ","GitHub users"),l&&r.a.createElement(_,{users:t}),a&&r.a.createElement(j,{totalRecords:a,pageLimit:n,pageNeighbours:c,onPageChanged:this.onPageChanged})))}}]),a}(r.a.Component);s.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0a583ed0.chunk.js.map